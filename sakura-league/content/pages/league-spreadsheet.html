<html data-ng-app="spreadsheetApp">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Sakura League Spreadsheet</title>
        <link rel="shortcut icon" href="../../etc/images/sakura-icon.jpg" type="image/x-icon" />

        <link rel="stylesheet" href="../../etc/styles/spreadsheet.css" />

        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>
        <script type="text/javascript" src="../../etc/scripts/jsons/spreadsheet.json.js"></script>
        <script type="text/javascript" src="../../etc/scripts/controllers/spreadsheetController.js"></script>
    </head>

    <body data-ng-controller="spreadsheetController">
        <h1>Sakura League</h1>
        <div class="tabs">
            <a href="#teams" data-ng-class="{'active': isTeamList}" data-ng-click="switchTab('teams')">Teams</a>
            <a href="#players" data-ng-class="{'active': !isTeamList}" data-ng-click="switchTab('players')">Plyaers</a>
        </div>
        <table data-ng-if="!isTeamList" class="sakura_table" cellspacing="3" cellpadding="5">
            <tr class="table_header">
                <td>#</td><td>Player</td><td>PTS</td><td>Round 1</td><td>Round 2</td><td>Round 3</td>
                <td data-ng-click="applySorting('total')">Total</td>
                <td data-ng-click="applySorting('average')">Average</td>
            </tr>
            <tbody data-ng-repeat="player in playerList">
                <tr >
                    <td>{{$index + 1}}</td>
                    <td class="player_name">{{player.nickname}}</td>
                    <td class="player_name">{{player.rating}}</td>
                    <td class="points">{{player.game_1}}</td>
                    <td class="points">{{player.game_2}}</td>
                    <td class="points">{{player.game_3}}</td>
                    <td class="points">{{player.total}}</td>
                    <td rowspan="3" class="points">{{player.average}}</td>
                </tr>
            </tbody>
        </table>
        <table data-ng-if="isTeamList" class="sakura_table" cellspacing="3" cellpadding="5">
            <tr class="table_header">
                <td>#</td><td>Team</td><td>Players</td><td>Round 1</td><td>Round 2</td><td>Round 3</td>
                <td>Total Player</td><td data-ng-click="applySorting('total')">Total Team</td>
                <td data-ng-click="applySorting('average')">Average Team</td>
            </tr>
            <tbody data-ng-repeat="team in teamList">
                <tr >
                    <td rowspan="3">{{$index + 1}}</td>
                    <td rowspan="3" class="team_name">{{team.name}}</td>
                    <td class="player_name">{{team.players[0].nickname}}</td>
                    <td class="points">{{team.players[0].game_1}}</td>
                    <td class="points">{{team.players[0].game_2}}</td>
                    <td class="points">{{team.players[0].game_3}}</td>
                    <td class="points">{{team.players[0].total}}</td>
                    <td rowspan="3" class="points">{{team.total}}</td>
                    <td rowspan="3" class="points">{{team.average}}</td>
                </tr>
                <tr>
                    <td>{{team.players[1].nickname}}</td>
                    <td class="points">{{team.players[1].game_1}}</td>
                    <td class="points">{{team.players[1].game_2}}</td>
                    <td class="points">{{team.players[1].game_3}}</td>
                    <td class="points">{{team.players[1].total}}</td>
                </tr>
            </tbody>
        </table>
    </body>
</html>